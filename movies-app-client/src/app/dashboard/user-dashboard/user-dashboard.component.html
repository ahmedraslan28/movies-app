<div class="user-dashboard">
  <!-- <mat-toolbar color="primary">
    <span>Welcome, {{ userName }}</span>
    <span class="toolbar-spacer"></span>
    <button mat-button (click)="logout()">
      <mat-icon>logout</mat-icon>
      Logout
    </button>
  </mat-toolbar> -->

  <app-movie-list/>

  <!-- <div class="content-container">
    <mat-card class="movies-card">
      <mat-card-header>
        <mat-card-title>Your Movie Library</mat-card-title>
        <mat-card-subtitle *ngIf="totalMovies > 0">
          Showing {{ movies.length }} of {{ totalMovies }} movies
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="movies-grid" *ngIf="movies.length > 0">
          <mat-card class="movie-card" *ngFor="let movie of movies">
            <img
              mat-card-image
              [src]="movie.poster"
              alt="{{ movie.title }}"
              *ngIf="movie.poster !== 'N/A'"
              (click)="viewDetails(movie.id)"
            />
            <div
              class="no-poster"
              *ngIf="movie.poster === 'N/A'"
              (click)="viewDetails(movie.id)"
            >
              <mat-icon>movie</mat-icon>
            </div>

            <mat-card-content>
              <h3>{{ movie.title }}</h3>
              <p class="year">{{ movie.year }}</p>

              <div class="rating">
                <span class="rating-label">Your Rating:</span>
                <div class="stars">
                  <button
                    mat-icon-button
                    *ngFor="let star of [1, 2, 3, 4, 5]"
                    [color]="
                      movie.rating && movie.rating >= star ? 'accent' : ''
                    "
                    (click)="onRateMovie(movie, star)"
                  >
                    <mat-icon>star</mat-icon>
                  </button>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>

        <div class="no-movies" *ngIf="!loading && movies.length === 0">
          <mat-icon>movie_off</mat-icon>
          <p>No movies in your library yet</p>
        </div>

        <mat-spinner
          *ngIf="loading"
          diameter="40"
          class="loading-spinner"
        ></mat-spinner>

        <mat-paginator
          *ngIf="totalMovies > 0"
          [length]="totalMovies"
          [pageSize]="pageSize"
          [pageIndex]="currentPage"
          [pageSizeOptions]="[12, 24, 48]"
          (page)="onPageChange($event)"
        >
        </mat-paginator>
      </mat-card-content>
    </mat-card>
  </div> -->
</div>
